(()=>{"use strict";async function e(e){let t="";try{!function(e){const t=document.querySelector("#loading");document.querySelector(".content").style.display="none",t.classList.add("active")}();let n=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=09da037b5d294e72bb6101013231709&q=${e}&days=8`,{mode:"cors"});t=await n.json()}catch(e){alert(e)}return function(e){const t=document.querySelector("#loading");document.querySelector(".content").style.display="block",t.classList.remove("active")}(),t}async function t(t){document.querySelector(".weather-main");const o=document.querySelector(".location-title"),c=document.querySelector("#location-date"),r=document.querySelector("#location-time"),a=document.querySelector("#temp-text"),i=document.querySelector("#sky-conditions"),l=document.querySelector("#feels-like");document.querySelector("#hourly-display");try{const d=function(e){const t={location:{city:e.location.name,country:e.location.country,date_time:e.location.localtime},weather:{current:{temperature_c:e.current.temp_c,temperature_f:e.current.temp_f,feelsLike_c:e.current.feelslike_c,feelsLike_f:e.current.feelsLike_f,sky_conditions:e.current.condition.text},forecast:{daily_condition:e.forecast.forecastday[0].day.condition.text}},hourly:[],daily:[]};for(let o=0;o<24;o++)t.hourly[o]={time:n(e.forecast.forecastday[0].hour[o].time).time,temperature_c:e.forecast.forecastday[0].hour[o].temp_c,temperature_f:e.forecast.forecastday[0].hour[o].temp_f};for(let n=1;n<8;n++){const o=e.forecast.forecastday[n].date_epoch,c=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],r=new Date;r.setTime(1e3*o),t.daily[n]={date:c[r.getDay()],min_temperature_c:e.forecast.forecastday[n].day.mintemp_c,max_temperature_c:e.forecast.forecastday[n].day.maxtemp_c}}return t}(await e(`${t}`));o.textContent=`${d.location.city}, ${d.location.country}`;const s=n(d.location.date_time).date;c.textContent=`${s}`;const u=n(d.location.date_time).time;r.textContent=`${u}`,a.textContent=`${d.weather.current.temperature_c}°C`,i.textContent=`${d.weather.current.sky_conditions}`,l.textContent=`Feels like ${d.weather.current.feelsLike_c}°C`,function(e){document.querySelector("#daily-forecast-conditions").textContent=e.weather.forecast.daily_condition}(d),function(e){const t=document.querySelector(".weather-main"),n=document.querySelector("#hourly-display"),o=document.querySelector(".hourly-content");o.textContent="";for(let t=0;t<24;t++){const c=document.createElement("li");c.classList.add("hourly-wrapper-item"),c.id=`${t}`;const r=document.createElement("span");r.classList.add("hourly-time"),r.textContent=e[t].time;const a=document.createElement("span");a.classList.add("hourly-temp"),a.textContent=`${e[t].temperature_c}°C`,c.append(r,a),o.append(c),n.appendChild(o)}t.appendChild(n),function(){const e=document.querySelector(".hourly-content"),t=document.getElementById("slide-arrow-prev");document.getElementById("slide-arrow-next").addEventListener("click",(t=>{const n=e.clientWidth;e.scrollLeft+=n})),t.addEventListener("click",(()=>{const t=e.clientWidth;e.scrollLeft-=t}))}()}(d.hourly),function(e){const t=document.querySelector(".weather-main"),n=document.querySelector("#weekly-display"),o=document.querySelector(".weekly-content");o.textContent="";for(let t=1;t<8;t++){const c=document.createElement("li");c.classList.add("weekly-wrapper-item"),c.id=`${t}`;const r=document.createElement("span");r.classList.add("weekly-day"),r.textContent=e[t].date;const a=document.createElement("span");a.classList.add("weekly-min-temp"),a.textContent=e[t].min_temperature_c;const i=document.createElement("span");i.classList.add("weekly-max-temp"),i.textContent=e[t].max_temperature_c,c.append(r,a,i),o.appendChild(c),n.appendChild(o)}t.appendChild(n)}(d.daily)}catch(e){console.log(e)}}function n(e){return{date:e.slice(0,-5).slice(0,10).split("-").reverse().join("."),time:e.slice(-5)}}e("timisoara").then((e=>console.log(e))),function(){const e=document.querySelector("input");let n="";e.addEventListener("keyup",(o=>{if("Enter"===o.key){if(!e.value)return;n=e.value,e.value="",t(n)}}))}(),t("timisoara")})();