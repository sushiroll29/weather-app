(()=>{"use strict";async function e(e){let t="";try{!function(e){const t=document.querySelector("#loading");document.querySelector(".content").style.display="none",t.classList.add("active")}();let n=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=09da037b5d294e72bb6101013231709&q=${e}&days=8`,{mode:"cors"});t=await n.json()}catch(e){alert(e)}return function(e){const t=document.querySelector("#loading");document.querySelector(".content").style.display="block",t.classList.remove("active")}(),t}async function t(t){const o=document.querySelector(".location-title"),r=document.querySelector("#location-date"),a=document.querySelector("#location-time"),i=document.querySelector("#temp-text"),s=document.querySelector("#temp-icon"),d=document.querySelector("#sky-conditions"),l=document.querySelector("#feels-like");try{const u=function(e){const t={location:{city:e.location.name,country:e.location.country,date_time:e.location.localtime},weather:{current:{temperature_c:e.current.temp_c,temperature_f:e.current.temp_f,icon_src:`https:${e.current.condition.icon}`,feelsLike_c:e.current.feelslike_c,feelsLike_f:e.current.feelsLike_f,sky_conditions:e.current.condition.text},forecast:{daily_condition:e.forecast.forecastday[0].day.condition.text},wind:{degree:e.current.wind_degree,direction:e.current.wind_dir}},dailyConditions:[{"Wind speed":Math.round(.28*e.current.wind_kph*10)/10+"m/s"},{Humidity:`${e.current.humidity}%`},{"UV index":e.current.uv},{Visibility:`${e.current.vis_km}km`},{Precipitation:`${e.current.precip_mm}mm`},{"Chance of rain":`${e.forecast.forecastday[0].day.daily_chance_of_rain}%`},{Sunrise:c(e.forecast.forecastday[0].astro.sunrise)},{Sunset:c(e.forecast.forecastday[0].astro.sunset)},{"Moon phase":e.forecast.forecastday[0].astro.moon_phase}],hourly:[],daily:[]};for(let c=0;c<24;c++)t.hourly[c]={time:n(e.forecast.forecastday[0].hour[c].time).time.slice(0,2),icon_src:`https:${e.forecast.forecastday[0].hour[c].condition.icon}`,chance_of_rain:e.forecast.forecastday[0].hour[c].chance_of_rain,temperature_c:e.forecast.forecastday[0].hour[c].temp_c,temperature_f:e.forecast.forecastday[0].hour[c].temp_f};for(let n=1;n<8;n++){const c=e.forecast.forecastday[n].date_epoch,o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=new Date;r.setTime(1e3*c),t.daily[n]={date:o[r.getDay()],icon_src:`https:${e.forecast.forecastday[n].day.condition.icon}`,min_temperature_c:e.forecast.forecastday[n].day.mintemp_c,max_temperature_c:e.forecast.forecastday[n].day.maxtemp_c}}return t}(await e(`${t}`));o.textContent=`${u.location.city}, ${u.location.country}`;const m=n(u.location.date_time).date;r.textContent=`${m} | `;const y=n(u.location.date_time).time;a.textContent=`${y}`,s.src=`${u.weather.current.icon_src}`,i.textContent=`${u.weather.current.temperature_c}°C`,d.textContent=`${u.weather.current.sky_conditions}`,l.textContent=`Feels like ${u.weather.current.feelsLike_c}°C`,function(e){document.querySelector("#daily-forecast-conditions").textContent=`${e.weather.forecast.daily_condition} today`}(u),function(e){const t=document.querySelector("#daily-conditions");t.textContent="";for(let n=0;n<9;n++){const c=document.createElement("div");c.classList.add("daily-condition"),c.id=n;const o=document.createElement("p");o.classList.add("daily-condition-title"),o.textContent=`${Object.keys(e[n])}`;const r=document.createElement("p");r.classList.add("daily-condition-value"),r.textContent=`${Object.values(e[n])}`,c.append(o,r),t.appendChild(c)}}(u.dailyConditions),function(e){const t=document.querySelector(".weather-main"),n=document.querySelector("#hourly-display"),c=document.querySelector(".hourly-content");c.textContent="";for(let t=0;t<24;t++){const o=document.createElement("li");o.classList.add("hourly-wrapper-item"),o.id=`${t}`;const r=document.createElement("span");r.classList.add("hourly-time"),r.textContent=e[t].time;const a=document.createElement("img");a.classList.add("hourly-icon"),a.src=e[t].icon_src;const i=document.createElement("span");i.classList.add("hourly-rain"),i.textContent=`${e[t].chance_of_rain}%`;const s=document.createElement("span");s.classList.add("hourly-temp"),s.textContent=`${e[t].temperature_c}°`,o.append(r,a,i,s),c.append(o),n.appendChild(c)}t.appendChild(n),function(){const e=document.querySelector(".hourly-content"),t=document.getElementById("slide-arrow-prev");document.getElementById("slide-arrow-next").addEventListener("click",(t=>{const n=e.clientWidth;e.scrollLeft+=n})),t.addEventListener("click",(()=>{const t=e.clientWidth;e.scrollLeft-=t}))}()}(u.hourly),function(e){const t=document.querySelector(".weather-main"),n=document.querySelector("#weekly-display"),c=document.querySelector(".weekly-content");c.textContent="";for(let t=1;t<8;t++){const o=document.createElement("li");o.classList.add("weekly-wrapper-item"),o.id=t;const r=document.createElement("span");r.classList.add("weekly-day"),r.textContent=e[t].date;const a=document.createElement("img");a.classList.add("weekly-icon"),a.src=e[t].icon_src;const i=document.createElement("span");i.classList.add("weekly-min-temp"),i.textContent=`${e[t].min_temperature_c}°C`;const s=document.createElement("span");s.classList.add("weekly-max-temp"),s.textContent=`${e[t].max_temperature_c}°C`,o.append(r,a,i,s),c.appendChild(o),n.appendChild(c)}t.appendChild(n)}(u.daily)}catch(e){console.log(e)}}function n(e){return{date:e.slice(0,-5).slice(0,10).split("-").reverse().join("."),time:e.slice(-5)}}function c(e){let t="";return t="am"==e.slice(-2).toLowerCase()?"12"==e.slice(0,2)?"00:"+e.slice(3,5):e.slice(0,-2):parseInt(e.slice(0,2))>=12?e.slice(0,-2):parseInt(e.slice(0,2))+12+":"+e.slice(3,5),t}e("timisoara").then((e=>console.log(e))),function(){const e=document.querySelector("input");let n="";e.addEventListener("keyup",(c=>{if("Enter"===c.key){if(!e.value)return;n=e.value,e.value="",t(n)}}))}(),t("timisoara")})();